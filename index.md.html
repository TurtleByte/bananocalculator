
<html lang="en">
<head>
	<title>The oof Debt</title>
	<style>
	div{
	font-family: "Uni Sans Heavy";
	text-align: right;
	color: #7289da;
	}
	th{
	font-family: "Uni Sans Heavy";
	color: #7289da;
	font-size: 150%;
	text-align: center;
	border: 1px solid #7289da;
	}
	td{
	font-family: "Uni Sans Heavy";
	color: #7289da;
	font-size: 110%;
	text-align: center;
	border: 1px solid #7289da;
	}
	table{
	float: right;
	border-collapse: collapse;
	width: 49%;
	}
	.count {
	position: relative;
	transform: translate(-5%, 0%);
	width: 60%;
	float: right;
	}
	body {
    background-image: url("tsn.jpg");
	background-position: 50% 40%;
	background-size:100%;
	background-repeat: no-repeat;
	background-attachment: fixed;
    }
	@font-face {
    font-family: Uni Sans Heavy;
    src: url('Uni Sans Heavy.otf');
    font-weight: normal;
    font-style: normal;
	}
	a:link {
    text-decoration: none;
	color: #7289da;
	}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>
    <div class="count">
		<h1><a href="https://discord.gg/taylorswift/" style="font-size:175%">The /r/TaylorSwift <br>Discord OOF Debt</a><br>
		<p>On 23 May 2018, Wet Patootie was banned from using the word "oof" on the /r/TaylorSwift Discord server. Every violation of this guideline carries a 350-taypoint penalty.</p>
		<p>Wet Patootie has since said the forbidden word <span id="oofCount">????</span> times, incurring an overall debt of <span id="totalDebt">????</span> taypoints.</p> 
		<p>Of this amount, <span id="settledAmount">????</span> taypoints (<span id="percentSettled">????</span>%) have been settled. Collected taypoints will be redistributed to other users via a raffle.</p>
		<p>To date, <span id="redistributedAmount">????</span> taypoints (<span id="percentRedistributed">????</span>%) have been paid out by raffle.</p>
	
	<table>
	<tr>
	<th colspan=3>Settlement History</th>
	</tr>
	<tr>
	<th>SID</th>
	<th>Date/Time (UTC)</th>
	<th>Amount</th>
	</tr>
	<tr><td>001</td><td>07/11/2020 10:37:26</td><td>20,001</td></tr>
	<tr><td>001</td><td>07/11/2020 10:29:52</td><td>1,439</td></tr>
	<tr><td>007</td><td>06/12/2019 12:39:20</td><td>35,473</td></tr>
	<tr><td>007</td><td>06/12/2019 11:53:28</td><td>50,000</td></tr>
	<tr><td>001</td><td>04/01/2019 13:35:49</td><td>1,115</td></tr>
	<tr><td>001</td><td>02/25/2019 13:58:58</td><td>734</td></tr>
	<tr><td>001</td><td>01/22/2019 11:55:51</td><td>91</td></tr>
	<tr><td>001</td><td>01/21/2019 08:42:57</td><td>289</td></tr>
	<tr><td>001</td><td>11/06/2018 12:51:24</td><td>2,204</td></tr>
	<tr><td>001</td><td>10/25/2018 12:19:56</td><td>606</td></tr>
	<tr><td>001</td><td>10/07/2018 13:20:44</td><td>1,964</td></tr>
	<tr><td>001</td><td>08/05/2018 08:27:13</td><td>177</td></tr>
	<tr><td>001</td><td>07/30/2018 12:36:57</td><td>143</td></tr>
	<tr><td>006</td><td>07/26/2018 13:24:22</td><td>5</td></tr>
	<tr><td>001</td><td>07/26/2018 12:56:49</td><td>297</td></tr>
	<tr><td>005</td><td>07/21/2018 08:24:50</td><td>147</td></tr>
	<tr><td>005</td><td>07/21/2018 03:20:21</td><td>882</td></tr>
	<tr><td>001</td><td>07/21/2018 03:14:55</td><td>1,400</td></tr>
	<tr><td>001</td><td>07/21/2018 03:13:15</td><td>4,000</td></tr>
	<tr><td>001</td><td>07/20/2018 02:43:38</td><td>292</td></tr>
	<tr><td>001</td><td>07/10/2018 05:14:24</td><td>285</td></tr>
	<tr><td>001</td><td>07/07/2018 12:34:24</td><td>556</td></tr>
	<tr><td>001</td><td>07/04/2018 02:25:46</td><td>714</td></tr>
	<tr><td>001</td><td>06/21/2018 09:23:17</td><td>132</td></tr>
	<tr><td>001</td><td>06/20/2018 11:17:14</td><td>208</td></tr>
	<tr><td>001</td><td>06/18/2018 04:36:49</td><td>130</td></tr>
	<tr><td>001</td><td>06/14/2018 12:30:14</td><td>505</td></tr>
	<tr><td>004</td><td>06/14/2018 23:37:08</td><td>2</td></tr>
	<tr><td>004</td><td>06/13/2018 12:45:19</td><td>3</td></tr>
	<tr><td>003</td><td>06/13/2018 12:44:54</td><td>102</td></tr>
	<tr><td>001</td><td>06/12/2018 15:20:58</td><td>360</td></tr>
	<tr><td>003</td><td>06/12/2018 13:32:33</td><td>3,500</td></tr>
	<tr><td>001</td><td>06/12/2018 11:32:57</td><td>47</td></tr>
	<tr><td>001</td><td>06/11/2018 03:42:33</td><td>440</td></tr>
	<tr><td>002</td><td>06/10/2018 15:50:16</td><td>1,505</td></tr>
	<tr><td>001</td><td>06/10/2018 15:09:17</td><td>64</td></tr>
	<tr><td>001</td><td>06/10/2018 14:32:57</td><td>362</td></tr>
	<tr><td>001</td><td>06/09/2018 14:13:56</td><td>206</td></tr>
	<tr><td>001</td><td>06/09/2018 08:04:10</td><td>1,414</td></tr>
	</table>
	
	<table>
	<tr>
	<th colspan=4>Settlers</th>
	</tr>
	<tr><th>ID</th><th>User</th><th>Amount</th><th>%</th></tr>
	<tr><td>001</td><td id="usettled001"></td><td id="settled001"></td><td id="psettled001"></td></tr>
	<tr><td>002</td><td id="usettled002"></td><td id="settled002"></td><td id="psettled002"></td></tr>
	<tr><td>003</td><td id="usettled003"></td><td id="settled003"></td><td id="psettled003"></td></tr>
	<tr><td>004</td><td id="usettled004"></td><td id="settled004"></td><td id="psettled004"></td></tr>
	<tr><td>005</td><td id="usettled005"></td><td id="settled005"></td><td id="psettled005"></td></tr>
	<tr><td>006</td><td id="usettled006"></td><td id="settled006"></td><td id="psettled006"></td></tr>
	<tr><td>007</td><td id="usettled007"></td><td id="settled007"></td><td id="psettled007"></td></tr>
	</table>
	
	<table>
	<tr>
	<th colspan=4>Raffle History</th>
	</tr>
	<tr><th>Date</th><th>Payout</th><th>User</th></tr>
	<tr><td>07/12/2020 13:23:32</td><td>5,360</td><td>Chale</td></tr>
	<tr><td>07/12/2020 13:23:32</td><td>5,360</td><td>Ozar</td></tr>
	<tr><td>07/12/2020 13:23:32</td><td>5,360</td><td>Cheese</td></tr>
	<tr><td>07/12/2020 13:23:32</td><td>5,360</td><td>Deite</td></tr>
	<tr><td>06/13/2019 15:59:09</td><td>30,000</td><td>Boki</td></tr>
	<tr><td>06/13/2019 15:54:49</td><td>15,000</td><td>Glov</td></tr>
	<tr><td>06/13/2019 12:51:50</td><td>5,000</td><td>Serp</td></tr>
	<tr><td>06/13/2019 12:51:50</td><td>5,000</td><td>DanishSwiftie</td></tr>
	<tr><td>06/12/2019 15:43:45</td><td>15,000</td><td>Suf</td></tr>
	<tr><td>06/12/2019 05:42:10</td><td>10,000</td><td>Danc</td></tr>
	<tr><td>06/12/2019 15:40:24</td><td>7,702</td><td>GeeOctz97</td></tr>
	<tr><td>01/19/2019 05:43:40</td><td>3,000</td><td>Neonz</td></tr>
	<tr><td>01/19/2019 05:42:09</td><td>339</td><td>MeredithPatrol</td></tr>
	<tr><td>07/21/2018 08:25:55</td><td>6,000</td><td>GeeOctz97</td></tr>
	<tr><td>07/21/2018 08:25:17</td><td>3,000</td><td>Palem</td></tr>
	<tr><td>07/21/2018 08:24:23</td><td>109</td><td>Marvin</td></tr>
	<tr><td>06/13/2018 14:43:55</td><td>5,000</td><td>Rebutotian</td></tr>
	<tr><td>06/13/2018 14:43:04</td><td>2,000</td><td>scn1sla</td></tr>
	<tr><td>06/13/2018 14:42:31</td><td>1,000</td><td>DemonWav</td></tr>
	</table>
	
	</div>

	<script type="text/javascript">
	//this is literally the most zero-effort and zero-knowledge thing i've ever written in my entire life
	
	//this grabs the thing so i dont have to manually count i have no idea what it means
	$.getJSON('https://api.allorigins.win/get?url=' + encodeURIComponent('https://lhwb.tay.rocks/wp.php') + '&callback=?', function(data){
	var str = data.contents;
	var res = str.split('<h3>').pop().split('</h3>').shift();
	
	//starting here is the stuff i'm supposed to touch
	var oofCount = res;
	var redistributedAmount = 129590;
	var settledAmounts = [
		['Wet Patootie', 37971],
		['Sheikchilli', 1505],
		['TurtleByte', 3602],
		['blobsad', 5],
		['marvintran76', 1029],
		['GeeOctz97', 5],
		['Syed', 85473]
	];

	//here's the stuff that, if it works the way i want it to, i should never touch
	var settledAmount = 0;
	var i;
	for (i = 0; i < settledAmounts.length; i++) { 
		settledAmount += settledAmounts[i][1];
	};
	
	var psettled = [percentSettler(0),percentSettler(1),percentSettler(2),percentSettler(3),percentSettler(4),percentSettler(5),percentSettler(6)];
	
	function percentSettler(a){
		return Math.round(settledAmounts[a][1] * 10000/ settledAmount)/100;
	};
	
	var totalDebt = oofCount * 350;
	var percentSettled = Math.round(settledAmount * 10000 / totalDebt) / 100;
	var percentRedistributed = Math.round(redistributedAmount * 1000 / settledAmount) / 10;	
	document.getElementById("oofCount").innerHTML = oofCount.toLocaleString();
	document.getElementById("settledAmount").innerHTML = settledAmount.toLocaleString();
	document.getElementById("redistributedAmount").innerHTML = redistributedAmount.toLocaleString();
	document.getElementById("totalDebt").innerHTML = totalDebt.toLocaleString();
	document.getElementById("percentSettled").innerHTML = percentSettled;
	document.getElementById("percentRedistributed").innerHTML = percentRedistributed;
	
	//please dont ask, i tried another way and it didnt work
	document.getElementById("usettled001").innerHTML = settledAmounts[0][0];
	document.getElementById("settled001").innerHTML = settledAmounts[0][1].toLocaleString();
	document.getElementById("psettled001").innerHTML = psettled[0];
	document.getElementById("usettled002").innerHTML = settledAmounts[1][0];
	document.getElementById("settled002").innerHTML = settledAmounts[1][1].toLocaleString();
	document.getElementById("psettled002").innerHTML = psettled[1];
	document.getElementById("usettled003").innerHTML = settledAmounts[2][0];
	document.getElementById("settled003").innerHTML = settledAmounts[2][1].toLocaleString();
	document.getElementById("psettled003").innerHTML = psettled[2];
	document.getElementById("usettled004").innerHTML = settledAmounts[3][0];
	document.getElementById("settled004").innerHTML = settledAmounts[3][1].toLocaleString();
	document.getElementById("psettled004").innerHTML = psettled[3];
	document.getElementById("usettled005").innerHTML = settledAmounts[4][0];
	document.getElementById("settled005").innerHTML = settledAmounts[4][1].toLocaleString();
	document.getElementById("psettled005").innerHTML = psettled[4];
	document.getElementById("usettled006").innerHTML = settledAmounts[5][0];
	document.getElementById("settled006").innerHTML = settledAmounts[5][1].toLocaleString();
	document.getElementById("psettled006").innerHTML = psettled[5];
	document.getElementById("usettled007").innerHTML = settledAmounts[6][0];
	document.getElementById("settled007").innerHTML = settledAmounts[6][1].toLocaleString();
	document.getElementById("psettled007").innerHTML = psettled[6];
	});
	</script>

</body>
</html>